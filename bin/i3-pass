#! /bin/bash

password=$(pass git ls-files | grep -v '.gpg-id' | sed -e 's/.gpg//' | rofi -threads 0 -width 100 -kb-accept-custom '' -kb-accept-custom-alt '' -kb-custom-1 "Ctrl+Return" -kb-custom-2 'Ctrl+Shift+Return' -dmenu -i -p "Password name")

ret=$?
case $ret in
  0)
    if pass show "${password}" | xclip -selection clipboard 
    then
      notify-send -u low -t 5000 "Pass" "Password copied to clipboard: \n\t${password}"
    else
      notify-send -u critical -t 5000 "Pass" "Could not copy password to clipboard: \n\t${password}"
    fi
    ;;
  10)
    echo "No option chosen."
    ;;
  11)
    echo "No option chosen."
    ;;
esac
