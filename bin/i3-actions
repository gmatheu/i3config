#!/usr/bin/env bash

action=$(echo -e "swapcaps: Swap Caps Lock as Esc\nrestorecaps: Restore Caps Lock\nkbdlayoutintl: Keyboard layout AltGr Intl" | rofi -width 500 -dmenu -p Actions: | cut -d ':' -f 1)

case $action in
    swapcaps)
        setxkbmap -option caps:escape
        notify-send -u low -t 1000 "Actions" "Caps Lock as escape"
        ;;
    restorecaps)
        setxkbmap -option caps:caps
        notify-send -u low -t 1000 "Actions" "Caps Lock restored"
        ;;
    kbdlayoutintl)
        setxkbmap -model pc105 -layout us -variant altgr-intl
        notify-send -u low -t 1000 "Actions" "Set keyboard layout to US AltGr Intl"
esac
